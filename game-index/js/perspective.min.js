function WordShuffler(t,e){var r=this;this.now,this.then=Date.now(),this.currentTimeOffset=0,this.word=null,this.currentWord=null,this.currentCharacter=0,this.currentWordLength=0;var i={fps:20,timeOffset:1,textColor:"#000",mixSpecialCharacters:!0,needUpdate:!0,colors:["#acacac","#666"]};if(void 0!==e)for(key in e)i[key]=e[key];this.needUpdate=!0,this.fps=i.fps,this.interval=400/this.fps,this.timeOffset=i.timeOffset,this.mixSpecialCharacters=i.mixSpecialCharacters,this.colors=i.colors,this.chars=["인","간","의","욕","심","은","끝","이","없","고"],this.specialCharacters=["!","§","$","%","&"],this.mixSpecialCharacters&&(this.chars=this.chars.concat(this.specialCharacters)),this.getRandomColor=function(){var t=Math.floor(Math.random()*this.colors.length);return this.colors[t]},void 0!==t&&(this.holder=t),this.getRandCharacter=function(t){if(" "==t)return" ";var e=Math.floor(Math.random()*this.chars.length);Math.random();return this.chars[e].toLowerCase()},this.writeWord=function(t){this.word=t,this.currentWord=t.split(""),this.currentWordLength=this.currentWord.length},this.generateSingleCharacter=function(t,e){var r=document.createElement("span");return r.style.color=t,r.innerHTML=e,r},this.updateCharacter=function(t){if(this.now=Date.now(),this.delta=this.now-this.then,this.delta>this.interval){this.currentTimeOffset++;var e=[];this.currentTimeOffset===this.timeOffset&&this.currentCharacter!==this.currentWordLength&&(this.currentCharacter++,this.currentTimeOffset=0);for(var i=0;i<this.currentCharacter;i++)e.push(this.currentWord[i]);for(var s=0;s<this.currentWordLength-this.currentCharacter;s++)e.push(this.getRandCharacter(this.currentWord[this.currentCharacter+s]));if(r.useCanvas){c.clearRect(0,0,stage.x*stage.dpr,stage.y*stage.dpr);var h=0;e.forEach(function(t,e){e>r.currentCharacter?c.fillStyle=r.getRandomColor():c.fillStyle=r.textColor,c.fillText(t,r.position.x+h,r.position.y),h+=c.measureText(t).width})}else r.currentCharacter===r.currentWordLength&&(r.needUpdate=!1),this.holder.innerHTML="",e.forEach(function(t,e){var i=null;i=e>r.currentCharacter?r.getRandomColor():r.textColor,r.holder.appendChild(r.generateSingleCharacter(i,t))});this.then=this.now-this.delta%this.interval}},this.writeWord(this.holder.innerHTML),console.log(this.currentWord),function t(e){e++,r.needUpdate&&r.updateCharacter(e),requestAnimationFrame(t)}(0)}$(document).on("mousemove",".perspective-box",function(t){var e=this.clientWidth,r=this.clientHeight,i=(t.offsetY-.5*e)/e*-15+"deg",s=(t.offsetX-.5*r)/r*15+"deg";$(this).css("transform",function(){return"perspective( 800px ) translate3d( 0, -2px, 0 ) scale(1.02) rotateY("+s+") rotateX("+i+")"})}).on("mouseout",".perspective-box",function(){$(this).removeAttr("style")});